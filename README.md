# Ben-COMET é‡‘èç›‘æ§ç³»ç»Ÿ

ä¸€ä¸ªå¼ºå¤§çš„é‡‘èäº§å“ä»·æ ¼ç›‘æ§ç³»ç»Ÿï¼Œæ”¯æŒè‚¡ç¥¨ã€ETFå’Œæ•°å­—è´§å¸çš„å®æ—¶ç›‘æ§ã€ä»·æ ¼é¢„è­¦å’Œæ¦‚ç‡åˆ†æã€‚

## ğŸ“¥ ä¸‹è½½æ¡Œé¢åº”ç”¨

**æœ€æ–°ç‰ˆæœ¬**: [ç‚¹å‡»ä¸‹è½½](https://github.com/Ben-noncodingceo/Ben-COMET/releases/latest)

æ”¯æŒå¹³å°ï¼š
- ğŸ **macOS** (Intel & Apple Silicon) - [ä¸‹è½½ DMG](https://github.com/Ben-noncodingceo/Ben-COMET/releases/latest)
- ğŸªŸ **Windows** (64-bit) - [ä¸‹è½½å®‰è£…åŒ…](https://github.com/Ben-noncodingceo/Ben-COMET/releases/latest)
- ğŸ§ **Linux** (AppImage, deb) - [ä¸‹è½½](https://github.com/Ben-noncodingceo/Ben-COMET/releases/latest)

è¯¦ç»†å®‰è£…è¯´æ˜è¯·æŸ¥çœ‹ [DOWNLOAD.md](DOWNLOAD.md)

---

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **å¤šèµ„äº§ç›‘æ§** - æ”¯æŒè‚¡ç¥¨ã€ETFã€æ•°å­—è´§å¸å®æ—¶ä»·æ ¼è¿½è¸ª
- **æ™ºèƒ½é¢„è­¦** - ä»·æ ¼åˆ°è¾¾ç›®æ ‡æ—¶è‡ªåŠ¨å‘é€é‚®ä»¶æé†’
- **æ¦‚ç‡åˆ†æ** - åŸºäºè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿï¼Œè®¡ç®—èµ„äº§åŠå¹´å†…æ¶¨30%ä»¥ä¸Šçš„æ¦‚ç‡
- **å†å²æ•°æ®** - å®Œæ•´çš„ä»·æ ¼å†å²è®°å½•å’Œè¶‹åŠ¿åˆ†æ

### æŠ€æœ¯ç‰¹ç‚¹
- **å®æ—¶ç›‘æ§** - æ¯5åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥ä»·æ ¼å˜åŒ–
- **å®šæ—¶ä»»åŠ¡** - ä½¿ç”¨ node-cron è¿›è¡Œå®šæ—¶ä»·æ ¼æ£€æŸ¥
- **æ•°æ®å¯è§†åŒ–** - ç°ä»£åŒ–çš„Webç•Œé¢å±•ç¤º
- **RESTful API** - å®Œæ•´çš„åç«¯APIæ¥å£

## æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js + Express** - WebæœåŠ¡å™¨
- **TypeScript** - ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **PostgreSQL** - æ•°æ®æŒä¹…åŒ–å­˜å‚¨
- **node-cron** - å®šæ—¶ä»»åŠ¡è°ƒåº¦
- **nodemailer** - é‚®ä»¶é€šçŸ¥æœåŠ¡
- **axios** - HTTPè¯·æ±‚å®¢æˆ·ç«¯

### å‰ç«¯
- **React 18** - ç°ä»£åŒ–çš„UIæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **TailwindCSS** - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶

### æ•°æ®æº
- **Alpha Vantage API** - è‚¡ç¥¨å’ŒETFæ•°æ®
- **CoinGecko API** - åŠ å¯†è´§å¸æ•°æ®

### æ¡Œé¢åº”ç”¨
- **Electron** - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **å†…ç½®æœåŠ¡å™¨** - æ— éœ€å•ç‹¬å®‰è£…æ•°æ®åº“å’Œåç«¯
- **è‡ªåŠ¨æ›´æ–°** - åº”ç”¨å†…è‡ªåŠ¨æ£€æŸ¥æ›´æ–°

## å¿«é€Ÿå¼€å§‹

### é€‰é¡¹ 1ï¼šä½¿ç”¨æ¡Œé¢åº”ç”¨ï¼ˆæ¨èï¼‰

1. ä» [Releases é¡µé¢](https://github.com/Ben-noncodingceo/Ben-COMET/releases/latest) ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…
2. å®‰è£…å¹¶å¯åŠ¨åº”ç”¨
3. é…ç½® API å¯†é’¥å’Œé‚®ä»¶è®¾ç½®
4. å¼€å§‹ä½¿ç”¨ï¼

è¯¦ç»†å®‰è£…è¯´æ˜ï¼š[DOWNLOAD.md](DOWNLOAD.md)

### é€‰é¡¹ 2ï¼šä»æºç è¿è¡Œï¼ˆå¼€å‘è€…ï¼‰

**å‰ç½®è¦æ±‚ï¼š**
- Node.js 18+
- PostgreSQL 15+ (å¯é€‰ - ä½¿ç”¨ Docker)
- npm æˆ– yarn

**æ­¥éª¤ï¼š**

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/Ben-noncodingceo/Ben-COMET.git
cd Ben-COMET
```

#### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

#### 3. å¯åŠ¨æ•°æ®åº“
ä½¿ç”¨ Docker Compose:
```bash
docker-compose up -d
```

æˆ–æ‰‹åŠ¨å¯åŠ¨ PostgreSQL å¹¶åˆ›å»ºæ•°æ®åº“:
```bash
createdb financial_monitor
psql financial_monitor < server/src/database/schema.sql
```

#### 4. é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶å¹¶é…ç½®æœåŠ¡å™¨ç¯å¢ƒå˜é‡:
```bash
cp server/.env.example server/.env
```

ç¼–è¾‘ `server/.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®:
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_NAME=financial_monitor
DB_USER=postgres
DB_PASSWORD=your_password

# é‚®ä»¶é…ç½® (ä½¿ç”¨ Gmail)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password  # éœ€è¦ç”Ÿæˆåº”ç”¨ä¸“ç”¨å¯†ç 
EMAIL_FROM=Financial Monitor <your_email@gmail.com>

# APIå¯†é’¥
ALPHA_VANTAGE_API_KEY=your_key_here
```

#### 5. å¯åŠ¨åº”ç”¨
å¼€å‘æ¨¡å¼ï¼ˆåŒæ—¶å¯åŠ¨å‰åç«¯ï¼‰:
```bash
npm run dev
```

æˆ–åˆ†åˆ«å¯åŠ¨:
```bash
# ç»ˆç«¯ 1 - å¯åŠ¨åç«¯
npm run dev:server

# ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯
npm run dev:client
```

#### 6. è®¿é—®åº”ç”¨
- **å‰ç«¯**: http://localhost:3000
- **åç«¯API**: http://localhost:3001
- **APIæ–‡æ¡£**: http://localhost:3001/

## API æ–‡æ¡£

### èµ„äº§ç®¡ç†

#### è·å–æ‰€æœ‰èµ„äº§
```http
GET /api/assets
```

#### è·å–èµ„äº§å½“å‰ä»·æ ¼
```http
GET /api/assets/:id/price
```

#### è·å–èµ„äº§æ¦‚ç‡åˆ†æ
```http
GET /api/assets/:id/probability?targetIncrease=0.30
```

#### è·å–èµ„äº§ä»·æ ¼å†å²
```http
GET /api/assets/:id/history?days=30
```

#### åˆ›å»ºæ–°èµ„äº§
```http
POST /api/assets
Content-Type: application/json

{
  "symbol": "TSLA",
  "name": "Tesla Inc.",
  "type": "STOCK"
}
```

### é¢„è­¦ç®¡ç†

#### è·å–æ‰€æœ‰é¢„è­¦
```http
GET /api/alerts?email=user@example.com&active=true
```

#### åˆ›å»ºæ–°é¢„è­¦
```http
POST /api/alerts
Content-Type: application/json

{
  "asset_id": 1,
  "user_email": "user@example.com",
  "condition": "ABOVE",
  "target_price": 150.00
}
```

#### æ›´æ–°é¢„è­¦
```http
PUT /api/alerts/:id
Content-Type: application/json

{
  "is_active": false
}
```

#### åˆ é™¤é¢„è­¦
```http
DELETE /api/alerts/:id
```

### ç›‘æ§æœåŠ¡

#### è·å–ç›‘æ§çŠ¶æ€
```http
GET /api/monitor/status
```

#### æ‰‹åŠ¨è§¦å‘ä»·æ ¼æ£€æŸ¥
```http
POST /api/monitor/check
```

#### æ£€æŸ¥ç‰¹å®šèµ„äº§
```http
POST /api/monitor/check/:assetId
```

### æ¦‚ç‡åˆ†æ

#### è·å–æ‰€æœ‰èµ„äº§æ¦‚ç‡
```http
GET /api/probability?targetIncrease=0.30
```

#### å¼ºåˆ¶é‡æ–°è®¡ç®—æ¦‚ç‡
```http
POST /api/probability/:assetId/calculate
Content-Type: application/json

{
  "targetIncrease": 0.30
}
```

## æ¦‚ç‡è®¡ç®—åŸç†

ç³»ç»Ÿä½¿ç”¨**è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ**å’Œ**å‡ ä½•å¸ƒæœ—è¿åŠ¨**æ¨¡å‹æ¥è®¡ç®—èµ„äº§ä»·æ ¼ä¸Šæ¶¨æ¦‚ç‡ï¼š

1. **å†å²æ•°æ®åˆ†æ** - è·å–è¿‡å»180å¤©çš„ä»·æ ¼æ•°æ®
2. **è®¡ç®—æ³¢åŠ¨ç‡** - åŸºäºå†å²æ”¶ç›Šç‡è®¡ç®—å¹´åŒ–æ³¢åŠ¨ç‡
3. **è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ** - è¿è¡Œ10,000æ¬¡ä»·æ ¼è·¯å¾„æ¨¡æ‹Ÿ
4. **æ¦‚ç‡ä¼°ç®—** - ç»Ÿè®¡è¾¾åˆ°ç›®æ ‡ä»·æ ¼çš„æ¨¡æ‹Ÿæ¬¡æ•°å æ¯”

å…¬å¼ï¼š
```
æ—¥æ”¶ç›Šç‡ = (ä»Šæ—¥ä»·æ ¼ - æ˜¨æ—¥ä»·æ ¼) / æ˜¨æ—¥ä»·æ ¼
å¹´åŒ–æ³¢åŠ¨ç‡ = æ ‡å‡†å·®(æ—¥æ”¶ç›Šç‡) Ã— âˆš252
æœªæ¥ä»·æ ¼ = å½“å‰ä»·æ ¼ Ã— exp(Î¼Î”t + ÏƒâˆšÎ”t Ã— Z)
```

å…¶ä¸­ï¼š
- Î¼ = å¹´åŒ–æ”¶ç›Šç‡
- Ïƒ = å¹´åŒ–æ³¢åŠ¨ç‡
- Î”t = æ—¶é—´é—´éš”ï¼ˆå¤©æ•°/252ï¼‰
- Z = æ ‡å‡†æ­£æ€åˆ†å¸ƒéšæœºæ•°

## é‚®ä»¶é…ç½®

### Gmail é…ç½®æ­¥éª¤

1. ç™»å½• Google è´¦æˆ·
2. å¯ç”¨ä¸¤æ­¥éªŒè¯
3. ç”Ÿæˆåº”ç”¨ä¸“ç”¨å¯†ç ï¼š
   - è®¿é—®ï¼šhttps://myaccount.google.com/apppasswords
   - é€‰æ‹©"é‚®ä»¶"å’Œ"å…¶ä»–è®¾å¤‡"
   - ç”Ÿæˆå¯†ç å¹¶å¤åˆ¶åˆ° `.env` æ–‡ä»¶çš„ `EMAIL_PASSWORD` å­—æ®µ

### å…¶ä»–é‚®ä»¶æœåŠ¡å•†

é…ç½®ç›¸åº”çš„ SMTP è®¾ç½®ï¼š
```env
EMAIL_HOST=smtp.your-provider.com
EMAIL_PORT=587
EMAIL_USER=your_email
EMAIL_PASSWORD=your_password
```

## æ•°æ®åº“æ¨¡å‹

### assets (èµ„äº§è¡¨)
```sql
id              SERIAL PRIMARY KEY
symbol          VARCHAR(20) UNIQUE    -- èµ„äº§ä»£ç 
name            VARCHAR(255)          -- èµ„äº§åç§°
type            VARCHAR(20)           -- STOCK, ETF, CRYPTO
created_at      TIMESTAMP
```

### price_history (ä»·æ ¼å†å²è¡¨)
```sql
id              SERIAL PRIMARY KEY
asset_id        INTEGER               -- å…³è”èµ„äº§
price           DECIMAL(20, 8)        -- ä»·æ ¼
timestamp       TIMESTAMP             -- è®°å½•æ—¶é—´
```

### alerts (é¢„è­¦è¡¨)
```sql
id              SERIAL PRIMARY KEY
asset_id        INTEGER               -- å…³è”èµ„äº§
user_email      VARCHAR(255)          -- ç”¨æˆ·é‚®ç®±
condition       VARCHAR(10)           -- ABOVE, BELOW
target_price    DECIMAL(20, 8)        -- ç›®æ ‡ä»·æ ¼
is_active       BOOLEAN               -- æ˜¯å¦æ´»è·ƒ
triggered_at    TIMESTAMP             -- è§¦å‘æ—¶é—´
created_at      TIMESTAMP
```

### probability_cache (æ¦‚ç‡ç¼“å­˜è¡¨)
```sql
id                      SERIAL PRIMARY KEY
asset_id                INTEGER           -- å…³è”èµ„äº§
target_increase         DECIMAL(5, 4)     -- ç›®æ ‡æ¶¨å¹…
probability             DECIMAL(5, 4)     -- æ¦‚ç‡
historical_volatility   DECIMAL(10, 8)    -- å†å²æ³¢åŠ¨ç‡
calculated_at           TIMESTAMP         -- è®¡ç®—æ—¶é—´
```

## é¡¹ç›®ç»“æ„

```
Ben-COMET/
â”œâ”€â”€ client/                 # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ types.ts        # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ api.ts          # APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.tsx        # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ server/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ db.ts       # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”‚   â””â”€â”€ schema.sql  # æ•°æ®åº“æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ routes/         # APIè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ assets.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ alerts.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ monitor.ts
â”‚   â”‚   â”‚   â””â”€â”€ probability.ts
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ priceService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ emailService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ monitorService.ts
â”‚   â”‚   â”‚   â””â”€â”€ probabilityService.ts
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts        # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docker-compose.yml      # Dockeré…ç½®
â”œâ”€â”€ package.json            # æ ¹é¡¹ç›®é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## æ„å»ºæ¡Œé¢åº”ç”¨

### macOS

```bash
# æ„å»º DMG å®‰è£…åŒ…ï¼ˆæ”¯æŒ Intel å’Œ Apple Siliconï¼‰
npm run build:client
npm run build:server
npm run build:electron

# æˆ–ä½¿ç”¨å¿«æ·è„šæœ¬
chmod +x scripts/build-mac.sh
./scripts/build-mac.sh

# DMG æ–‡ä»¶å°†ç”Ÿæˆåœ¨ dist/ ç›®å½•
```

### Windows

```bash
# æ„å»º Windows å®‰è£…åŒ…
npm run build:client
npm run build:server
electron-builder --win
```

### Linux

```bash
# æ„å»º AppImage å’Œ deb åŒ…
npm run build:client
npm run build:server
electron-builder --linux
```

### æ„å»ºæ‰€æœ‰å¹³å°

```bash
# ä¸€æ¬¡æ€§æ„å»ºæ‰€æœ‰å¹³å°ï¼ˆéœ€è¦åœ¨å¯¹åº”ç³»ç»Ÿä¸Šè¿è¡Œï¼‰
npm run build:all
```

## ç”Ÿäº§éƒ¨ç½²ï¼ˆWeb ç‰ˆï¼‰

### 1. æ„å»ºé¡¹ç›®
```bash
npm run build
```

### 2. è®¾ç½®ç¯å¢ƒå˜é‡
ç¡®ä¿ç”Ÿäº§ç¯å¢ƒçš„ `.env` é…ç½®æ­£ç¡®

### 3. å¯åŠ¨æœåŠ¡
```bash
npm start
```

### 4. ä½¿ç”¨ PM2 (æ¨è)
```bash
npm install -g pm2
pm2 start server/dist/index.js --name ben-comet
pm2 save
pm2 startup
```

## API é™åˆ¶å’Œæœ€ä½³å®è·µ

### Alpha Vantage
- å…è´¹å±‚ï¼šæ¯åˆ†é’Ÿ5æ¬¡è¯·æ±‚ï¼Œæ¯å¤©500æ¬¡
- å»ºè®®ï¼šä½¿ç”¨ç¼“å­˜ï¼Œè®¾ç½®åˆç†çš„æ£€æŸ¥é—´éš”

### CoinGecko
- å…è´¹å±‚ï¼šæ¯åˆ†é’Ÿ50æ¬¡è¯·æ±‚
- å»ºè®®ï¼šæ‰¹é‡è¯·æ±‚ï¼Œé¿å…é¢‘ç¹è°ƒç”¨

## å¸¸è§é—®é¢˜

### Q: é‚®ä»¶å‘é€å¤±è´¥
A: æ£€æŸ¥é‚®ç®±é…ç½®ï¼Œç¡®ä¿ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œéè´¦æˆ·å¯†ç 

### Q: ä»·æ ¼æ›´æ–°ä¸åŠæ—¶
A: æ£€æŸ¥ `.env` ä¸­çš„ `PRICE_CHECK_INTERVAL` è®¾ç½®

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥
A: ç¡®ä¿ PostgreSQL è¿è¡Œä¸”è¿æ¥ä¿¡æ¯æ­£ç¡®

### Q: API é™åˆ¶é”™è¯¯
A: å‡å°‘è¯·æ±‚é¢‘ç‡æˆ–å‡çº§åˆ°ä»˜è´¹APIè®¡åˆ’

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- **ä½œè€…**: Ben (CEO of Center of Mass Educational Tech)
- **GitHub**: https://github.com/Ben-noncodingceo/Ben-COMET

## è‡´è°¢

- Alpha Vantage - æä¾›è‚¡ç¥¨å’ŒETFæ•°æ®
- CoinGecko - æä¾›åŠ å¯†è´§å¸æ•°æ®
- æ‰€æœ‰å¼€æºè´¡çŒ®è€…

---

**æ³¨æ„**: æœ¬ç³»ç»Ÿä»…ä¾›æ•™è‚²å’Œå‚è€ƒç”¨é€”ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©ï¼Œè¯·è°¨æ…å†³ç­–ã€‚
